function checkAnswer() {
  let elapsedTime = new Date().getTime() - startTime;
  let userNumber = "";

  // Collect the user input
  document.querySelectorAll(".input-box").forEach(input => {
    userNumber += input.value;
  });

  // Partial credit based on correctness and timing
  let partialScore = 0;
  for (let i = 0; i < originalNumber.length; i++) {
    if (userNumber[i] === originalNumber[i]) {
      partialScore += 5;
    } else if (originalNumber.includes(userNumber[i])) {
      partialScore += 2;
    }
  }
  score += (partialScore * level) / totalTries - Math.floor(elapsedTime / 1000);

// Update level
if (userNumber === originalNumber) {
  level++;  // Increase the level indefinitely if the sequence is correct
} else if (level > 2) {  // Decrease the level if the sequence is incorrect and level is greater than 2
  level--;
}


  // Update best score
  if (score > bestScore) {
    bestScore = score;
  }

  document.getElementById("level").innerText = level;
  document.getElementById("score").innerText = Math.floor(score);
  document.getElementById("bestScore").innerText = Math.floor(bestScore);
  document.getElementById("userInputContainer").innerHTML = "";
  document.getElementById("submitButton").style.display = "none";
  document.getElementById("startButton").style.display = "block";
}
